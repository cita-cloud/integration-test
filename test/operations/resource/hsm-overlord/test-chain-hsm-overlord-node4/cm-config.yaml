apiVersion: v1
kind: ConfigMap
data:
  config.toml: |+
    [network_zenoh]
    ca_cert = """
    -----BEGIN CERTIFICATE-----
    MIIBdTCCARugAwIBAgIVAOO0TfuZqKe3CMM1L3S0HHg5PzIgMAoGCCqGSM49BAMC
    MB8xEDAOBgNVBAoMB0NJVEFIdWIxCzAJBgNVBAMTAkNBMCAXDTc1MDEwMTAwMDAw
    MFoYDzQwOTYwMTAxMDAwMDAwWjAfMRAwDgYDVQQKDAdDSVRBSHViMQswCQYDVQQD
    EwJDQTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABCn73wSi2HzcKNTm8XIyUQD/
    c36KJD/T/gO8QqydXL0GgClJHK+07Nj2xQvtU5nw+wr+Qzrv0eOPYs/06TqU/uaj
    MjAwMB0GA1UdDgQWBBTjtE37maintwjDNS90tBx4OT8yIDAPBgNVHRMBAf8EBTAD
    AQH/MAoGCCqGSM49BAMCA0gAMEUCIQC/jKUMy3XUUOTKoNJZwjXjapV5NLYS2J26
    BWE/grs4jAIgcmty61xf09vQ85rQtN+mU+vT39KMR9982ISvPOTnC1c=
    -----END CERTIFICATE-----
    """
    cert = """
    -----BEGIN CERTIFICATE-----
    MIIBizCCATCgAwIBAgIVAPc6YSSYfHtUk0Vm0XoKQwkL6Q2TMAoGCCqGSM49BAMC
    MB8xEDAOBgNVBAoMB0NJVEFIdWIxCzAJBgNVBAMTAkNBMCAXDTc1MDEwMTAwMDAw
    MFoYDzQwOTYwMTAxMDAwMDAwWjA6MRAwDgYDVQQKDAdDSVRBSHViMSYwJAYDVQQD
    Ex10ZXN0LWNoYWluLWhzbS1vdmVybG9yZC1ub2RlNDBZMBMGByqGSM49AgEGCCqG
    SM49AwEHA0IABJXgWSsuQErIqkml0AoQtUPtvVDh6NLjNcjOadrxkt1lDmY9knUY
    mfE4keaKhuK+KZEhiqElIs9tu+9JSItd7mSjLDAqMCgGA1UdEQQhMB+CHXRlc3Qt
    Y2hhaW4taHNtLW92ZXJsb3JkLW5vZGU0MAoGCCqGSM49BAMCA0kAMEYCIQD4GdGG
    wDTeZUDXo4ExvzHSM4TJe66QNA3tsn58ILFH2gIhAOEwmlyLNHPhGylMHJH2XXWY
    OsVkPrIUTIAXwd+6Tw4K
    -----END CERTIFICATE-----
    """
    chain_id = "7ea77ef41544d35957d1d9953f32b8975d996d90db852884ba68bae587312e32"
    domain = "test-chain-hsm-overlord-node4"
    enable_metrics = true
    grpc_port = 50000
    metrics_port = 60000
    node_address = "/mnt/node_address"
    port = 40000
    priv_key = """
    -----BEGIN PRIVATE KEY-----
    MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgkquhY0qQ2KReYQd4
    MM3ePOFlZNWqbAXIeZ7ZJ23vOgmhRANCAASV4FkrLkBKyKpJpdAKELVD7b1Q4ejS
    4zXIzmna8ZLdZQ5mPZJ1GJnxOJHmiobivimRIYqhJSLPbbvvSUiLXe5k
    -----END PRIVATE KEY-----
    """
    protocol = "quic"
    validator_address = "/mnt/validator_address"

    [[network_zenoh.modules]]
    hostname = "127.0.0.1"
    module_name = "consensus"
    port = 50001

    [[network_zenoh.modules]]
    hostname = "127.0.0.1"
    module_name = "controller"
    port = 50004

    [[network_zenoh.peers]]
    domain = "test-chain-hsm-overlord-node0"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-hsm-overlord-node1"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-hsm-overlord-node2"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-hsm-overlord-node3"
    port = 40000
    protocol = "quic"

    [network_zenoh.log_config]
    filter = "info"
    max_level = "info"
    service_name = "network"

    [consensus_overlord]
    consensus_port = 50001
    controller_port = 50004
    domain = "test-chain-hsm-overlord-node4"
    enable_metrics = true
    metrics_port = 60001
    network_port = 50000

    [consensus_overlord.log_config]
    filter = "info"
    max_level = "info"
    service_name = "consensus"

    [executor_evm]
    domain = "test-chain-hsm-overlord-node4"
    enable_metrics = true
    executor_port = 50002
    metrics_port = 60002

    [executor_evm.log_config]
    filter = "info"
    max_level = "info"
    service_name = "executor"

    [storage_opendal]
    domain = "test-chain-hsm-overlord-node4"
    enable_metrics = true
    metrics_port = 60003
    storage_port = 50003

    [storage_opendal.cloud_storage]
    access_key_id = ""
    bucket = ""
    endpoint = ""
    root = ""
    secret_access_key = ""
    service_type = ""

    [storage_opendal.log_config]
    filter = "info"
    max_level = "info"
    service_name = "storage"

    [genesis_block]
    prevhash = "0x0000000000000000000000000000000000000000000000000000000000000000"
    timestamp = 1690774736399

    [system_config]
    admin = "9bab5858df4a9e84ff3958884a01a4fce5e07edb"
    block_interval = 3
    block_limit = 100
    chain_id = "7ea77ef41544d35957d1d9953f32b8975d996d90db852884ba68bae587312e32"
    quota_limit = 1073741824
    validators = [
        "ad11329d59fdad40f867aea63fc9c6f3e2ad697818a2547bc5f2f8359b240558d9d2efa1baa8d9be99191d56217cfb21",
        "a36648c5581df3de398713370ef4c0071be23c83ce5ec344d5200b3cb55fe61b69922d971b2474cf79a11dce541ccc92",
        "b10af584cdb0317228c4e3451e71e45a7e78c3ba3259e619cab809d2eb4880bfd18eb604a32714aee360507e8d07d943",
        "99b0547398d662775516a1f37ec3e21d307dfac0e550b37c10cff4a3a4779d6a87a09e94c436bfdf84fc211b4f41d831",
    ]
    version = 0

    [controller]
    consensus_port = 50001
    controller_port = 50004
    domain = "test-chain-hsm-overlord-node4"
    enable_metrics = true
    executor_port = 50002
    is_danger = false
    metrics_port = 60004
    network_port = 50000
    node_address = "/mnt/node_address"
    storage_port = 50003
    validator_address = "/mnt/validator_address"
    tx_persistence = true

    [controller.log_config]
    filter = "info"
    max_level = "info"
    service_name = "controller"

metadata:
  labels:
    app.kubernetes.io/chain-name: test-chain-hsm-overlord
    app.kubernetes.io/chain-node: test-chain-hsm-overlord-node4
  name: test-chain-hsm-overlord-node4-config
