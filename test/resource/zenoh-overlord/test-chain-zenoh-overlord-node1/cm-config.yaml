apiVersion: v1
kind: ConfigMap
data:
  config.toml: |+
    [network_zenoh]
    ca_cert = """
    -----BEGIN CERTIFICATE-----\r
    MIIBaTCCAQ+gAwIBAgIJAKuK0wgkx2jfMAoGCCqGSM49BAMCMB8xEDAOBgNVBAoM\r
    B0NJVEFIdWIxCzAJBgNVBAMTAkNBMCAXDTc1MDEwMTAwMDAwMFoYDzQwOTYwMTAx\r
    MDAwMDAwWjAfMRAwDgYDVQQKDAdDSVRBSHViMQswCQYDVQQDEwJDQTBZMBMGByqG\r
    SM49AgEGCCqGSM49AwEHA0IABEJ4FdrTMJ49uaAO2zY6Mj524oLj4gUCn32kv8tS\r
    2SySGmEgQ/jjGBlNhB2DYUaSDNq1Glechdzlle2P5mwGGT+jMjAwMB0GA1UdDgQW\r
    BBTfaMckCNOKqz0c02hOeg1U7JjRszAPBgNVHRMBAf8EBTADAQH/MAoGCCqGSM49\r
    BAMCA0gAMEUCIA/AiUJWmBqM/eDV5S66eVtoJ0P71PpLLNMf5bilSOY2AiEAjd96\r
    DRRZEOAxEYfcjWjwVXz5/8KZqyi4RwqlCds4tA8=\r
    -----END CERTIFICATE-----\r
    """
    cert = """
    -----BEGIN CERTIFICATE-----\r
    MIIBgzCCASigAwIBAgIJAJC57BRHi5GiMAoGCCqGSM49BAMCMB8xEDAOBgNVBAoM\r
    B0NJVEFIdWIxCzAJBgNVBAMTAkNBMCAXDTc1MDEwMTAwMDAwMFoYDzQwOTYwMTAx\r
    MDAwMDAwWjA8MRAwDgYDVQQKDAdDSVRBSHViMSgwJgYDVQQDEx90ZXN0LWNoYWlu\r
    LXplbm9oLW92ZXJsb3JkLW5vZGUxMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE\r
    pFBD0iLScLJBEf10joMhTLL5cV5ti5qJJ46aa0k/NMCr1l9jariZv6yreW70z7X4\r
    +IrwyB031PDDtQE4gUONdaMuMCwwKgYDVR0RBCMwIYIfdGVzdC1jaGFpbi16ZW5v\r
    aC1vdmVybG9yZC1ub2RlMTAKBggqhkjOPQQDAgNJADBGAiEA+vT8ya0Wjxyyrv4J\r
    +hKlOlw3LV1VfZLzTm1AnWYWakYCIQD9gatx9uLOvE31B3ocJIrhekpbWgKQYimB\r
    J58DGpuO8g==\r
    -----END CERTIFICATE-----\r
    """
    chain_id = "5f267c2f9aa5ff8200452d21c2f5e870046727f66501be4f32e18d1bf8e55111"
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    grpc_port = 50000
    metrics_port = 60000
    node_address = "/mnt/node_address"
    port = 40000
    priv_key = """
    -----BEGIN PRIVATE KEY-----\r
    MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgTubS+flb+9Vk4sD0\r
    rJogTNGAqa1jJ52kufuzhJ7iDrShRANCAASkUEPSItJwskER/XSOgyFMsvlxXm2L\r
    moknjpprST80wKvWX2NquJm/rKt5bvTPtfj4ivDIHTfU8MO1ATiBQ411\r
    -----END PRIVATE KEY-----\r
    """
    protocol = "quic"
    validator_address = "/mnt/validator_address"

    [[network_zenoh.modules]]
    hostname = "127.0.0.1"
    module_name = "consensus"
    port = 50001

    [[network_zenoh.modules]]
    hostname = "127.0.0.1"
    module_name = "controller"
    port = 50004

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node0"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node2"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node3"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node4"
    port = 40000
    protocol = "quic"

    [network_zenoh.log_config]
    filter = "info"
    max_level = "info"
    service_name = "network"

    [consensus_overlord]
    consensus_port = 50001
    controller_port = 50004
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    metrics_port = 60001
    network_port = 50000

    [consensus_overlord.log_config]
    filter = "info"
    max_level = "info"
    service_name = "consensus"

    [executor_evm]
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    executor_port = 50002
    metrics_port = 60002

    [executor_evm.log_config]
    filter = "info"
    max_level = "info"
    service_name = "executor"

    [storage_opendal]
    access_key_id = ""
    bucket = ""
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    endpoint = ""
    metrics_port = 60003
    secret_access_key = ""
    storage_port = 50003

    [storage_opendal.log_config]
    filter = "info"
    max_level = "info"
    service_name = "storage"

    [genesis_block]
    prevhash = "0x0000000000000000000000000000000000000000000000000000000000000000"
    timestamp = 1683897074108

    [system_config]
    admin = "9bab5858df4a9e84ff3958884a01a4fce5e07edb"
    block_interval = 3
    block_limit = 100
    chain_id = "5f267c2f9aa5ff8200452d21c2f5e870046727f66501be4f32e18d1bf8e55111"
    quota_limit = 1073741824
    validators = [
        "8428536b43c6fecd2fdba17b65196a3bd38004a788fb374fb5e1376eae2da74225ab1abf917b927943363e463d1d88d1",
        "ad8a44647525e8fd2158ca7f8653f766216aa5bd1457ffa322474b7364550b2e7982ab2ee91a46fa8d51d83d1039079d",
        "9698f951cd4f2edababb8cbca8c4ac424ba63ad7e5a6eac287d5ed9739c7a9170659ea3c378819817a52eda0cca3652c",
        "96fcb063a74cd81ef117f2500d47e165061a0918f34510a0f19d568be141fb4ad1b8fe6c59d9bd3bcd526174869e74d9",
    ]
    version = 0

    [controller]
    consensus_port = 50001
    controller_port = 50004
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    executor_port = 50002
    is_danger = false
    metrics_port = 60004
    network_port = 50000
    node_address = "/mnt/node_address"
    storage_port = 50003
    validator_address = "/mnt/validator_address"

    [controller.log_config]
    filter = "info"
    max_level = "info"
    service_name = "controller"

metadata:
  labels:
    app.kubernetes.io/chain-name: test-chain-zenoh-overlord
    app.kubernetes.io/chain-node: test-chain-zenoh-overlord-node1
  name: test-chain-zenoh-overlord-node1-config
