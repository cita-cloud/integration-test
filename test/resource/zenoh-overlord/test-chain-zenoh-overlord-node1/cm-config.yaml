apiVersion: v1
kind: ConfigMap
data:
  config.toml: |+
    [network_zenoh]
    ca_cert = """
    -----BEGIN CERTIFICATE-----
    MIIBdTCCARugAwIBAgIVANV97pTYFWC1fWlLCFpqwnAhZoNWMAoGCCqGSM49BAMC
    MB8xEDAOBgNVBAoMB0NJVEFIdWIxCzAJBgNVBAMTAkNBMCAXDTc1MDEwMTAwMDAw
    MFoYDzQwOTYwMTAxMDAwMDAwWjAfMRAwDgYDVQQKDAdDSVRBSHViMQswCQYDVQQD
    EwJDQTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABIYd4v40BEds9zc62e0yvDaa
    RmHtI5fLjDByRqbLQF1USHBjJXwOeD8CbTgMcwYVxQKV5mFxU3FnmSfEXn0dL7yj
    MjAwMB0GA1UdDgQWBBTVfe6U2BVgtX1pSwhaasJwIWaDVjAPBgNVHRMBAf8EBTAD
    AQH/MAoGCCqGSM49BAMCA0gAMEUCIE8+q3fWPzgBKm8lFkmg2YQIJlPy4q/ryiH6
    l1Qo1LlvAiEAzcN9Vqfn1xgHXndYwKvGFlzMF5FSt9hYpgh2elAsiiU=
    -----END CERTIFICATE-----
    """
    cert = """
    -----BEGIN CERTIFICATE-----
    MIIBjzCCATSgAwIBAgIVAPNcaM58uQOxPPp+diOfOPgrT4YHMAoGCCqGSM49BAMC
    MB8xEDAOBgNVBAoMB0NJVEFIdWIxCzAJBgNVBAMTAkNBMCAXDTc1MDEwMTAwMDAw
    MFoYDzQwOTYwMTAxMDAwMDAwWjA8MRAwDgYDVQQKDAdDSVRBSHViMSgwJgYDVQQD
    Ex90ZXN0LWNoYWluLXplbm9oLW92ZXJsb3JkLW5vZGUxMFkwEwYHKoZIzj0CAQYI
    KoZIzj0DAQcDQgAEGDKdAAOsNNl7piz3ggCBI12K2k3yocULBeRfJjPqCzNKcbT7
    5NqtUtvuOXrShAWeLxhEC1/rKYQyiecLH7yQ3qMuMCwwKgYDVR0RBCMwIYIfdGVz
    dC1jaGFpbi16ZW5vaC1vdmVybG9yZC1ub2RlMTAKBggqhkjOPQQDAgNJADBGAiEA
    mVvQhtKTb4L1++1+HhkcxBEwCgGhJ439arZTFOiXbLkCIQDNf0aSIVyB7FEGdTJq
    kt3qzj3MIOo5KYokQou3cRb98A==
    -----END CERTIFICATE-----
    """
    chain_id = "5f267c2f9aa5ff8200452d21c2f5e870046727f66501be4f32e18d1bf8e55111"
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    grpc_port = 50000
    metrics_port = 60000
    node_address = "/mnt/node_address"
    port = 40000
    priv_key = """
    -----BEGIN PRIVATE KEY-----
    MIGHAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBG0wawIBAQQgy0O/kiRofUJdpcFw
    F1HYqG5FcCYm10ye8pDP9Jl5TJyhRANCAAQYMp0AA6w02XumLPeCAIEjXYraTfKh
    xQsF5F8mM+oLM0pxtPvk2q1S2+45etKEBZ4vGEQLX+sphDKJ5wsfvJDe
    -----END PRIVATE KEY-----
    """
    protocol = "quic"
    validator_address = "/mnt/validator_address"

    [[network_zenoh.modules]]
    hostname = "127.0.0.1"
    module_name = "consensus"
    port = 50001

    [[network_zenoh.modules]]
    hostname = "127.0.0.1"
    module_name = "controller"
    port = 50004

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node0"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node2"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node3"
    port = 40000
    protocol = "quic"

    [[network_zenoh.peers]]
    domain = "test-chain-zenoh-overlord-node4"
    port = 40000
    protocol = "quic"

    [network_zenoh.log_config]
    filter = "info"
    max_level = "info"
    service_name = "network"

    [consensus_overlord]
    consensus_port = 50001
    controller_port = 50004
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    metrics_port = 60001
    network_port = 50000

    [consensus_overlord.log_config]
    filter = "info"
    max_level = "info"
    service_name = "consensus"

    [executor_evm]
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    executor_port = 50002
    metrics_port = 60002

    [executor_evm.log_config]
    filter = "info"
    max_level = "info"
    service_name = "executor"

    [storage_opendal]
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    metrics_port = 60003
    storage_port = 50003

    [storage_opendal.cloud_storage]
    access_key_id = ""
    bucket = ""
    endpoint = ""
    root = ""
    secret_access_key = ""
    service_type = ""

    [storage_opendal.log_config]
    filter = "info"
    max_level = "info"
    service_name = "storage"

    [genesis_block]
    prevhash = "0x0000000000000000000000000000000000000000000000000000000000000000"
    timestamp = 1690772675166

    [system_config]
    admin = "9bab5858df4a9e84ff3958884a01a4fce5e07edb"
    block_interval = 3
    block_limit = 100
    chain_id = "5f267c2f9aa5ff8200452d21c2f5e870046727f66501be4f32e18d1bf8e55111"
    quota_limit = 1073741824
    validators = [
        "aa213c69835058e22a2497c30d4f56953faee07bfc713baa07165c4aee4ef87bd2d8e83554b597944128b8e3124af291",
        "8e02bbcd404c8c0c1b41cae705fe69b579a4be1a4d0e9d05dca604153ba072fb6cb9bb06c49059856ea0cff0e7611fd7",
        "869d9d1dd59e425dd15f96e71834f8d3f86b4c3d0b97fd8eeda659eb1f50141e99ad8474365f087372a4cf93b9fa6820",
        "8fe53bf015e9caa56d95338d8ec4ae4c802c07129a22eb3ff8d180dae0e36e73768022a58c1c92736e93483bcbf37a7d",
    ]
    version = 0

    [controller]
    consensus_port = 50001
    controller_port = 50004
    domain = "test-chain-zenoh-overlord-node1"
    enable_metrics = true
    executor_port = 50002
    is_danger = false
    metrics_port = 60004
    network_port = 50000
    node_address = "/mnt/node_address"
    storage_port = 50003
    validator_address = "/mnt/validator_address"

    [controller.log_config]
    filter = "info"
    max_level = "info"
    service_name = "controller"

metadata:
  labels:
    app.kubernetes.io/chain-name: test-chain-zenoh-overlord
    app.kubernetes.io/chain-node: test-chain-zenoh-overlord-node1
  name: test-chain-zenoh-overlord-node1-config
